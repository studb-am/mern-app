"use strict";(self.webpackChunkmern_app=self.webpackChunkmern_app||[]).push([[15],{8159:function(r,n,e){e.d(n,{$:function(){return x},i:function(){return v}});var t,o=e(1413),u=e(885),a=e(5861),i=e(7757),c=e.n(i),s=e(2791),l=function(){return t.current},d=function(){t=(0,s.useRef)([])},f=function(){return t.current=[]},h=function(r){t.current=t.current.filter((function(n){return n!==r}))},p=function(){var r=(0,a.Z)(c().mark((function r(n){var e,o,u,a,i,s,l,d,f,p;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.setLoading,o=n.setError,u=n.url,a=n.method,i=n.headers,s=n.body,r.prev=1,e(!0),l=new AbortController,c=l,t.current.push(c),r.next=7,fetch(u,{method:a,headers:i,body:s});case 7:return d=r.sent,r.next=10,d.json();case 10:if(f=r.sent,d.ok){r.next=15;break}throw p=new Error(f.message||"An unexpected error occured. Please try again later!"),o(p),p;case 15:return h(l),r.abrupt("return",f);case 19:throw r.prev=19,r.t0=r.catch(1),o(r.t0),r.t0;case 23:return r.prev=23,e(!1),r.finish(23);case 26:case"end":return r.stop()}var c}),r,null,[[1,19,23,26]])})));return function(n){return r.apply(this,arguments)}}(),x=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,s.useState)(!1),a=(0,u.Z)(o,2),i=a[0],c=a[1],h=(0,s.useState)(null),x=(0,u.Z)(h,2),v=x[0],g=x[1],Z=(0,s.useState)(null),m=(0,u.Z)(Z,2),j=m[0],b=m[1];d();var y=function(){g(null)},E=(0,s.useCallback)((function(){return p({setLoading:c,setError:g,url:r,method:e,headers:t,body:n})}),[]);return(0,s.useEffect)((function(){E().then((function(r){return b(r)}))}),[E]),(0,s.useEffect)((function(){return function(){l().forEach((function(r){return r.abort()})),f()}}),[]),{data:j,loading:i,error:v,clearError:y}},v=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"Content-Type":"application/json"},n=(0,s.useState)(!1),e=(0,u.Z)(n,2),t=e[0],a=e[1],i=(0,s.useState)(null),c=(0,u.Z)(i,2),h=c[0],x=c[1];d();var v=function(){x(null)},g=(0,s.useCallback)((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return p((0,o.Z)({setLoading:a,setError:x,method:e,headers:r},n))}),[]);return(0,s.useEffect)((function(){return function(){l().forEach((function(r){return r.abort()})),f()}}),[]),[g,{loading:t,error:h,clearError:v}]}},8449:function(r,n,e){e(2791);var t=e(9658),o=e(7317),u=e(184);n.Z=function(r){var n=r.error,e=r.onClose;return(0,u.jsxs)(t.Z,{severity:"error",onClose:e,children:[(0,u.jsx)(o.Z,{children:"Error"}),n.message]})}},4174:function(r,n,e){e(2791);var t=e(5769),o=e(3239),u=e(184);n.Z=function(r){var n=r.loading;return(0,u.jsxs)(t.Z,{sx:{color:"#fff",zIndex:function(r){return r.zIndex.drawer+1}},open:n,children:["     ",(0,u.jsx)(o.Z,{color:"inherit"})]})}},2015:function(r,n,e){e.r(n),e.d(n,{default:function(){return E}});var t=e(1413),o=(e(2791),e(5193)),u=e(4554),a=e(1889),i=e(2757),c=e(3504),s=e(7621),l=e(6647),d=e(9585),f=e(3044),h={width:200,marginBottom:2,color:i.rS.palette.primary.main,backgroundColor:i.rS.palette.secondary.light,borderRadius:5,display:"flex",alignItems:"center",justifyContent:"space-between"},p={width:45,height:45},x=e(184),v=function(r){var n=r.user;return(0,x.jsx)(s.Z,{variant:"outlined",sx:h,children:(0,x.jsx)(c.rU,{to:"/places/user/".concat(n._id),style:{color:"inherit",textDecoration:"none"},children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(d.Z,{avatar:(0,x.jsx)(f.Z,{src:"".concat("https://locomovolt.com:4000").concat(n.image),sx:p}),title:n.name,subheader:"places: ".concat(n.places.length),sx:{width:200}})})})},n._id)},g={display:"flex",justifyContent:"center",alignItems:"center"},Z={maxWidth:1200,justifyContent:"inherit",alignItems:"inherit",paddingTop:2,paddingLeft:10,paddingRight:10},m=function(r){var n=r.users,e=(0,o.Z)(i.U_),t=(0,o.Z)(i.BR),c=function(){var r=3;return t&&(r=6),e&&(r=12),r};return(0,x.jsx)(u.Z,{sx:g,children:(0,x.jsx)(a.ZP,{container:!0,sx:Z,children:n.map((function(r){return(0,x.jsx)(a.ZP,{item:!0,xs:c(),children:(0,x.jsx)(v,{user:r})},r._id)}))})})},j=e(8449),b=e(4174),y=e(8159),E=function(r){var n=(0,y.$)("http://locomovolt.com:4000/api/users"),e=n.data,o=n.loading,u=n.error,a=n.clearError;return u?(0,x.jsx)(j.Z,{onClose:a,error:u}):o?(0,x.jsx)(b.Z,{loading:o}):e&&(0,x.jsx)(m,(0,t.Z)((0,t.Z)({},r),{},{users:e.users}))}}}]);
//# sourceMappingURL=15.62b2d953.chunk.js.map