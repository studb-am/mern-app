"use strict";(self.webpackChunkmern_app=self.webpackChunkmern_app||[]).push([[211],{8159:function(e,n,r){r.d(n,{$:function(){return h},i:function(){return v}});var t,o=r(1413),i=r(885),a=r(5861),s=r(7757),c=r.n(s),l=r(2791),u=function(){return t.current},d=function(){t=(0,l.useRef)([])},f=function(){return t.current=[]},p=function(e){t.current=t.current.filter((function(n){return n!==e}))},m=function(){var e=(0,a.Z)(c().mark((function e(n){var r,o,i,a,s,l,u,d,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setLoading,o=n.setError,i=n.url,a=n.method,s=n.headers,l=n.body,e.prev=1,r(!0),u=new AbortController,c=u,t.current.push(c),e.next=7,fetch(i,{method:a,headers:s,body:l});case 7:return d=e.sent,e.next=10,d.json();case 10:if(f=e.sent,d.ok){e.next=15;break}throw m=new Error(f.message||"An unexpected error occured. Please try again later!"),o(m),m;case 15:return p(u),e.abrupt("return",f);case 19:throw e.prev=19,e.t0=e.catch(1),o(e.t0),e.t0;case 23:return e.prev=23,r(!1),e.finish(23);case 26:case"end":return e.stop()}var c}),e,null,[[1,19,23,26]])})));return function(n){return e.apply(this,arguments)}}(),h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,l.useState)(!1),a=(0,i.Z)(o,2),s=a[0],c=a[1],p=(0,l.useState)(null),h=(0,i.Z)(p,2),v=h[0],g=h[1],Z=(0,l.useState)(null),x=(0,i.Z)(Z,2),C=x[0],j=x[1];d();var k=function(){g(null)},b=(0,l.useCallback)((function(){return m({setLoading:c,setError:g,url:e,method:r,headers:t,body:n})}),[]);return(0,l.useEffect)((function(){b().then((function(e){return j(e)}))}),[b]),(0,l.useEffect)((function(){return function(){u().forEach((function(e){return e.abort()})),f()}}),[]),{data:C,loading:s,error:v,clearError:k}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"Content-Type":"application/json"},n=(0,l.useState)(!1),r=(0,i.Z)(n,2),t=r[0],a=r[1],s=(0,l.useState)(null),c=(0,i.Z)(s,2),p=c[0],h=c[1];d();var v=function(){h(null)},g=(0,l.useCallback)((function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return m((0,o.Z)({setLoading:a,setError:h,method:r,headers:e},n))}),[]);return(0,l.useEffect)((function(){return function(){u().forEach((function(e){return e.abort()})),f()}}),[]),[g,{loading:t,error:p,clearError:v}]}},8449:function(e,n,r){r(2791);var t=r(9658),o=r(7317),i=r(184);n.Z=function(e){var n=e.error,r=e.onClose;return(0,i.jsxs)(t.Z,{severity:"error",onClose:r,children:[(0,i.jsx)(o.Z,{children:"Error"}),n.message]})}},4174:function(e,n,r){r(2791);var t=r(5769),o=r(3239),i=r(184);n.Z=function(e){var n=e.loading;return(0,i.jsxs)(t.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:n,children:["     ",(0,i.jsx)(o.Z,{color:"inherit"})]})}},5789:function(e,n,r){r.d(n,{r:function(){return u},R:function(){return d}});var t,o,i=r(168),a=r(7630),s=r(7621),c=r(9585),l=r(2757),u=(0,a.ZP)(s.Z)(t||(t=(0,i.Z)(["\n    width: 90%;\n    height: 60%;\n    margin-left: 5%;\n    margin-top: 15%;\n    box-shadow: 24;\n"]))),d=(0,a.ZP)(c.Z)(o||(o=(0,i.Z)(["\n    background-color: ",";\n    color: ",";\n    height: 5%;\n"])),l.rS.palette.primary.main,l.rS.palette.neutral.main)},2211:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t=r(1413),o=r(2791),i=r(6871),a=r(885),s=r(5193),c=r(3504),l=r(7621),u=r(3366),d=r(7462),f=r(8182),p=r(767),m=r(3736),h=r(7630),v=r(5159),g=r(208);function Z(e){return(0,v.Z)("MuiCardMedia",e)}(0,g.Z)("MuiCardMedia",["root","media","img"]);var x=r(184),C=["children","className","component","image","src","style"],j=(0,h.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState,t=r.isMediaComponent,o=r.isImageComponent;return[n.root,t&&n.media,o&&n.img]}})((function(e){var n=e.ownerState;return(0,d.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),k=["video","audio","picture","iframe","img"],b=["picture","img"],y=o.forwardRef((function(e,n){var r=(0,m.Z)({props:e,name:"MuiCardMedia"}),t=r.children,o=r.className,i=r.component,a=void 0===i?"div":i,s=r.image,c=r.src,l=r.style,h=(0,u.Z)(r,C),v=-1!==k.indexOf(a),g=!v&&s?(0,d.Z)({backgroundImage:'url("'.concat(s,'")')},l):l,y=(0,d.Z)({},r,{component:a,isMediaComponent:v,isImageComponent:-1!==b.indexOf(a)}),S=function(e){var n=e.classes,r={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,p.Z)(r,Z,n)}(y);return(0,x.jsx)(j,(0,d.Z)({className:(0,f.Z)(S.root,o),as:a,role:!v&&s?"img":void 0,ref:n,style:g,ownerState:y,src:v?s||c:void 0},h,{children:t}))})),S=r(9504),w=r(890);function M(e){return(0,v.Z)("MuiCardActions",e)}(0,g.Z)("MuiCardActions",["root","spacing"]);var E=["disableSpacing","className"],P=(0,h.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,!r.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,d.Z)({display:"flex",alignItems:"center",padding:8},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),I=o.forwardRef((function(e,n){var r=(0,m.Z)({props:e,name:"MuiCardActions"}),t=r.disableSpacing,o=void 0!==t&&t,i=r.className,a=(0,u.Z)(r,E),s=(0,d.Z)({},r,{disableSpacing:o}),c=function(e){var n=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,p.Z)(r,M,n)}(s);return(0,x.jsx)(P,(0,d.Z)({className:(0,f.Z)(c.root,i),ownerState:s,ref:n},a))})),D=r(6151),R=r(3198),N=r(4554),z=r(3767),A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:200,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:6,pb:3},B=r(5789),L=r(743),F=(r(4984),function(e){var n=e.open,r=e.onClose,t=e.title,o=e.location;return(0,x.jsx)(R.Z,{open:n,onClose:r,children:(0,x.jsxs)(B.r,{children:[(0,x.jsx)(B.R,{title:t}),(0,x.jsxs)(S.Z,{sx:{height:"95%"},children:[(0,x.jsx)(L.D5,{centerCoords:{lat:o.lat,lng:o.lng},initialZoom:14,mapStyle:"https://locomovolt.com:8080/styles/basic-preview/style.json",mapClassName:"map",mapContainerClassName:"map-wrap",minZoom:9,maxZoom:18,navigationControl:"top-right",children:(0,x.jsx)(L.Jx,{coords:{lat:o.lat,lng:o.lng},options:{color:"#3FB1CE",draggable:!1}})}),(0,x.jsx)(N.Z,{padding:3,textAlign:"center",children:(0,x.jsx)(D.Z,{variant:"contained",onClick:r,children:"Close"})})]})]})})}),T=r(1462),O=function(e){var n=e.id,r=e.title,t=e.description,i=e.location,s=e.imageUrl,u=e.onDeletePlace,d=(0,o.useState)(!1),f=(0,a.Z)(d,2),p=f[0],m=f[1],h=(0,o.useState)(!1),v=(0,a.Z)(h,2),g=v[0],Z=v[1],C=(0,o.useContext)(T.V);return(0,x.jsxs)(l.Z,{sx:{width:"100%",maxWidth:450,marginBottom:4},children:[(0,x.jsx)(y,{component:"img",height:"140",image:"".concat("https://locomovolt.com:4000").concat(s),alt:r}),(0,x.jsxs)(S.Z,{children:[(0,x.jsx)(w.Z,{gutterBottom:!0,variant:"h5",component:"div",children:r}),(0,x.jsx)(w.Z,{variant:"body2",color:"text.secondary",children:t})]}),(0,x.jsxs)(I,{sx:{alignItems:"center",justifyContent:"center"},children:[(0,x.jsx)(D.Z,{size:"small",onClick:function(){return m(!0)},children:"View Map"}),C.userIsLogged&&(0,x.jsx)(c.rU,{to:"/update-place/".concat(n),style:{textDecoration:"none"},children:(0,x.jsx)(D.Z,{size:"small",children:"Edit"})}),C.userIsLogged&&(0,x.jsx)(D.Z,{size:"small",onClick:function(){return Z(!0)},children:"Delete"})]}),(0,x.jsx)(F,{open:p,onClose:function(){return m(!1)},title:r,location:i}),(0,x.jsx)(R.Z,{hideBackdrop:!0,open:g,onClose:function(){return Z(!1)},children:(0,x.jsxs)(N.Z,{sx:A,children:[(0,x.jsx)("h2",{children:"Are you sure?"}),(0,x.jsx)("p",{children:"By confirming the operation, you will no longer able to see delete data"}),(0,x.jsxs)(z.Z,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,x.jsx)(D.Z,{onClick:function(){return Z(!1)},variant:"outlined",children:"No"}),(0,x.jsx)(D.Z,{onClick:function(){Z(!1),u(n)},variant:"contained",children:"Yes"})]})]})})]})},U=r(2757),V=r(8159),_=function(e){var n=e.places,r=(0,s.Z)(U.U_),i=(0,o.useState)(n),c=(0,a.Z)(i,2),l=c[0],u=c[1],d=(0,V.i)(),f=(0,a.Z)(d,2),p=f[0],m=f[1],h=(m.error,m.clearError,(0,o.useContext)(T.V)),v=function(e){p({url:"http://locomovolt.com:4000/api/places/place/".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h.token)}},"DELETE").then((function(n){console.log(n.message),u((function(n){return n.filter((function(n){return n.id!==e}))}))}))};return(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",padding:25},children:[!r&&(0,x.jsx)("div",{style:{flex:1}}),(0,x.jsx)("div",{style:{flex:1},children:l.map((function(e){return(0,x.jsx)(O,(0,t.Z)((0,t.Z)({},e),{},{onDeletePlace:v}),e.id)}))}),!r&&(0,x.jsx)("div",{style:{flex:1}})]})},W=r(4174),$=r(8449),G=function(e){var n=(0,i.UO)().userId,r=(0,V.$)("http://locomovolt.com:4000/api/places/user/".concat(n)),o=r.data,a=r.loading,s=r.error,c=r.clearError;return a?(0,x.jsx)(W.Z,{loading:a}):s?(0,x.jsx)($.Z,{error:s,onClose:c}):o&&(0,x.jsx)(_,(0,t.Z)({places:o.places},e))}},3239:function(e,n,r){r.d(n,{Z:function(){return D}});var t=r(168),o=r(3366),i=r(7462),a=r(2791),s=r(8182),c=r(767),l=r(2554),u=r(4036),d=r(3736),f=r(7630),p=r(5159);function m(e){return(0,p.Z)("MuiCircularProgress",e)}(0,r(208).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h,v,g,Z,x,C,j,k,b=r(184),y=["className","color","disableShrink","size","style","thickness","value","variant"],S=44,w=(0,l.F4)(x||(x=h||(h=(0,t.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),M=(0,l.F4)(C||(C=v||(v=(0,t.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),E=(0,f.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n[r.variant],n["color".concat((0,u.Z)(r.color))]]}})((function(e){var n=e.ownerState,r=e.theme;return(0,i.Z)({display:"inline-block"},"determinate"===n.variant&&{transition:r.transitions.create("transform")},"inherit"!==n.color&&{color:r.palette[n.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,l.iv)(j||(j=g||(g=(0,t.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),w)})),P=(0,f.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,n){return n.svg}})({display:"block"}),I=(0,f.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,n){var r=e.ownerState;return[n.circle,n["circle".concat((0,u.Z)(r.variant))],r.disableShrink&&n.circleDisableShrink]}})((function(e){var n=e.ownerState,r=e.theme;return(0,i.Z)({stroke:"currentColor"},"determinate"===n.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var n=e.ownerState;return"indeterminate"===n.variant&&!n.disableShrink&&(0,l.iv)(k||(k=Z||(Z=(0,t.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),M)})),D=a.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiCircularProgress"}),t=r.className,a=r.color,l=void 0===a?"primary":a,f=r.disableShrink,p=void 0!==f&&f,h=r.size,v=void 0===h?40:h,g=r.style,Z=r.thickness,x=void 0===Z?3.6:Z,C=r.value,j=void 0===C?0:C,k=r.variant,w=void 0===k?"indeterminate":k,M=(0,o.Z)(r,y),D=(0,i.Z)({},r,{color:l,disableShrink:p,size:v,thickness:x,value:j,variant:w}),R=function(e){var n=e.classes,r=e.variant,t=e.color,o=e.disableShrink,i={root:["root",r,"color".concat((0,u.Z)(t))],svg:["svg"],circle:["circle","circle".concat((0,u.Z)(r)),o&&"circleDisableShrink"]};return(0,c.Z)(i,m,n)}(D),N={},z={},A={};if("determinate"===w){var B=2*Math.PI*((S-x)/2);N.strokeDasharray=B.toFixed(3),A["aria-valuenow"]=Math.round(j),N.strokeDashoffset="".concat(((100-j)/100*B).toFixed(3),"px"),z.transform="rotate(-90deg)"}return(0,b.jsx)(E,(0,i.Z)({className:(0,s.Z)(R.root,t),style:(0,i.Z)({width:v,height:v},z,g),ownerState:D,ref:n,role:"progressbar"},A,M,{children:(0,b.jsx)(P,{className:R.svg,ownerState:D,viewBox:"".concat(22," ").concat(22," ").concat(S," ").concat(S),children:(0,b.jsx)(I,{className:R.circle,style:N,ownerState:D,cx:S,cy:S,r:(S-x)/2,fill:"none",strokeWidth:x})})}))}))},4984:function(){}}]);
//# sourceMappingURL=211.59e5086c.chunk.js.map