"use strict";(self.webpackChunkmern_app=self.webpackChunkmern_app||[]).push([[244],{8159:function(e,n,r){r.d(n,{$:function(){return m},i:function(){return h}});var t,i=r(1413),a=r(885),o=r(5861),s=r(7757),l=r.n(s),c=r(2791),u=function(){return t.current},d=function(){t=(0,c.useRef)([])},v=function(){return t.current=[]},f=function(e){t.current=t.current.filter((function(n){return n!==e}))},p=function(){var e=(0,o.Z)(l().mark((function e(n){var r,i,a,o,s,c,u,d,v,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setLoading,i=n.setError,a=n.url,o=n.method,s=n.headers,c=n.body,e.prev=1,r(!0),u=new AbortController,l=u,t.current.push(l),e.next=7,fetch(a,{method:o,headers:s,body:c});case 7:return d=e.sent,e.next=10,d.json();case 10:if(v=e.sent,d.ok){e.next=15;break}throw p=new Error(v.message||"An unexpected error occured. Please try again later!"),i(p),p;case 15:return f(u),e.abrupt("return",v);case 19:throw e.prev=19,e.t0=e.catch(1),i(e.t0),e.t0;case 23:return e.prev=23,r(!1),e.finish(23);case 26:case"end":return e.stop()}var l}),e,null,[[1,19,23,26]])})));return function(n){return e.apply(this,arguments)}}(),m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,c.useState)(!1),o=(0,a.Z)(i,2),s=o[0],l=o[1],f=(0,c.useState)(null),m=(0,a.Z)(f,2),h=m[0],g=m[1],Z=(0,c.useState)(null),x=(0,a.Z)(Z,2),y=x[0],b=x[1];d();var w=function(){g(null)},k=(0,c.useCallback)((function(){return p({setLoading:l,setError:g,url:e,method:r,headers:t,body:n})}),[]);return(0,c.useEffect)((function(){k().then((function(e){return b(e)}))}),[k]),(0,c.useEffect)((function(){return function(){u().forEach((function(e){return e.abort()})),v()}}),[]),{data:y,loading:s,error:h,clearError:w}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"Content-Type":"application/json"},n=(0,c.useState)(!1),r=(0,a.Z)(n,2),t=r[0],o=r[1],s=(0,c.useState)(null),l=(0,a.Z)(s,2),f=l[0],m=l[1];d();var h=function(){m(null)},g=(0,c.useCallback)((function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return p((0,i.Z)({setLoading:o,setError:m,method:r,headers:e},n))}),[]);return(0,c.useEffect)((function(){return function(){u().forEach((function(e){return e.abort()})),v()}}),[]),[g,{loading:t,error:f,clearError:h}]}},588:function(e,n,r){r.d(n,{hg:function(){return l},CP:function(){return c},Ox:function(){return u},Gu:function(){return d}});var t=r(7762),i="REQUIRE",a="MINLENGTH",o="MAXLENGTH",s="EMAIL",l=function(){return{type:i}},c=function(e){return{type:a,val:e}},u=function(){return{type:s}},d=function(e,n){var r,l=!0,c=(0,t.Z)(n);try{for(c.s();!(r=c.n()).done;){var u=r.value;u.type===i&&(l=l&&e.trim().length>0),u.type===a&&(l=l&&e.trim().length>=u.val),u.type===o&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){c.e(d)}finally{c.f()}return l}},8449:function(e,n,r){r(2791);var t=r(9658),i=r(7317),a=r(184);n.Z=function(e){var n=e.error,r=e.onClose;return(0,a.jsxs)(t.Z,{severity:"error",onClose:r,children:[(0,a.jsx)(i.Z,{children:"Error"}),n.message]})}},4174:function(e,n,r){r(2791);var t=r(5769),i=r(3239),a=r(184);n.Z=function(e){var n=e.loading;return(0,a.jsxs)(t.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:n,children:["     ",(0,a.jsx)(i.Z,{color:"inherit"})]})}},1995:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(885),i=r(2791),a=r(6151),o=r(184),s=function(e){var n=e.id,r=e.onInputLoad,s=(0,i.useState)(),l=(0,t.Z)(s,2),c=l[0],u=l[1],d=(0,i.useState)(),v=(0,t.Z)(d,2),f=v[0],p=v[1],m=(0,i.useRef)();(0,i.useEffect)((function(){if(c){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(c)}}),[c]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{id:n,ref:m,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var n;e.target.files&&1===e.target.files.length&&(n=e.target.files[0],u(n)),r(n)}}),(0,o.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,o.jsxs)("div",{className:"image-upload__preview",children:[f&&(0,o.jsx)("img",{src:f,alt:"Preview"}),!f&&(0,o.jsx)("p",{children:"Please pick an image."})]}),(0,o.jsx)(a.Z,{variant:"outlined",onClick:function(){m.current.click()},children:"Pick Image"})]})]})}},7244:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t=r(885),i=r(2791),a=r(4942),o=r(3366),s=r(7462),l=r(8182),c=r(767),u=r(4036),d=r(890),v=r(3840),f=r(2930),p=r(7630),m=r(5159);function h(e){return(0,m.Z)("MuiInputAdornment",e)}var g=(0,r(208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Z=r(3736),x=r(184),y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["position".concat((0,u.Z)(r.position))],!0===r.disablePointerEvents&&n.disablePointerEvents,n[r.variant]]}})((function(e){var n=e.theme,r=e.ownerState;return(0,s.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===r.variant&&(0,a.Z)({},"&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")"),{marginTop:16}),"start"===r.position&&{marginRight:8},"end"===r.position&&{marginLeft:8},!0===r.disablePointerEvents&&{pointerEvents:"none"})})),w=i.forwardRef((function(e,n){var r=(0,Z.Z)({props:e,name:"MuiInputAdornment"}),t=r.children,a=r.className,p=r.component,m=void 0===p?"div":p,g=r.disablePointerEvents,w=void 0!==g&&g,k=r.disableTypography,S=void 0!==k&&k,j=r.position,C=r.variant,E=(0,o.Z)(r,y),P=(0,f.Z)()||{},I=C;C&&P.variant,P&&!I&&(I=P.variant);var L=(0,s.Z)({},r,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:w,position:j,variant:I}),N=function(e){var n=e.classes,r=e.disablePointerEvents,t=e.hiddenLabel,i=e.position,a=e.size,o=e.variant,s={root:["root",r&&"disablePointerEvents",i&&"position".concat((0,u.Z)(i)),o,t&&"hiddenLabel",a&&"size".concat((0,u.Z)(a))]};return(0,c.Z)(s,h,n)}(L);return(0,x.jsx)(v.Z.Provider,{value:null,children:(0,x.jsx)(b,(0,s.Z)({as:m,ownerState:L,className:(0,l.Z)(N.root,a),ref:n},E,{children:"string"!==typeof t||S?(0,x.jsxs)(i.Fragment,{children:["start"===j?(0,x.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,t]}):(0,x.jsx)(d.Z,{color:"text.secondary",children:t})}))})})),k=r(4554),S=r(6303),j=r(3767),C=r(8096),E=r(4925),P=r(8029),I=r(3400),L=r(6151),N=r(9201),M=(0,N.Z)((0,x.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),R=(0,N.Z)((0,x.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),V=r(8449),A=r(4174),F=r(588),z=r(1462),B=r(1413),T=function(e,n){var r;if("ON_CHANGE"===n.type){var t=!0,i=!0,o=(0,F.Gu)(n.val,n.validators);for(var s in e)"meta"!==s&&(s===n.inputId?("name"!==s&&"image"!==s&&n.isLogin&&(t=t&&o),i=i&&o):("name"!==s&&"image"!==s&&n.isLogin&&(t=t&&e[s].isValid),i=i&&e[s].isValid));return(0,B.Z)((0,B.Z)({},e),{},(r={},(0,a.Z)(r,n.inputId,{value:n.val,hasBeenFocused:!0,isValid:o}),(0,a.Z)(r,"meta",(0,B.Z)((0,B.Z)({},e.meta),{},{loginIsValid:t,signUpIsValid:i})),r))}return e},D={email:{value:"",hasBeenFocused:!1,isValid:!1},password:{value:"",hasBeenFocused:!1,isValid:!1},name:{value:"",hasBeenFocused:!1,isValid:!1},image:{value:"",hasBeenFocused:!1,isValid:!1},meta:{loginIsValid:!1,signUpIsValid:!1}},O=r(1995),_=r(8159),G=function(e){var n=(0,i.useState)(!0),r=(0,t.Z)(n,2),a=r[0],o=r[1],s=(0,i.useState)(!1),l=(0,t.Z)(s,2),c=l[0],u=l[1],v=(0,i.useReducer)(T,D),f=(0,t.Z)(v,2),p=f[0],m=f[1],h=(0,_.i)(),g=(0,t.Z)(h,2),Z=g[0],y=g[1],b=y.loading,N=y.error,B=y.clearError,G=(0,i.useContext)(z.V);return(0,x.jsxs)("div",{className:"formContainer",children:[N&&(0,x.jsx)(V.Z,{onClose:B,error:N}),(0,x.jsx)(A.Z,{loading:b}),(0,x.jsx)(d.Z,{variant:"h6",sx:{padding:3},children:a?"Login to the app":"Signup"}),(0,x.jsxs)(k.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"80%",marginLeft:"10%",height:"5%"}},noValidate:!0,autoComplete:"off",children:[!a&&(0,x.jsx)(S.Z,{id:"name",label:"Your Name",fullWidth:!0,error:!p.name.isValid&&p.name.hasBeenFocused,helperText:!p.name.isValid&&p.name.hasBeenFocused&&"Please provide a name!",value:p.name.value,onChange:function(e){return m({type:"ON_CHANGE",val:e.target.value,inputId:"name",isLogin:a,validators:[(0,F.hg)()]})}}),!a&&(0,x.jsx)(j.Z,{direction:"column",sx:{m:1,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,x.jsx)(O.Z,{id:"image",center:!0,onInputLoad:function(e){m({type:"ON_CHANGE",inputId:"image",val:e,isLogin:a,validators:[]})}})}),(0,x.jsx)(S.Z,{id:"email",label:"Email",fullWidth:!0,error:!p.email.isValid&&p.email.hasBeenFocused,helperText:!p.email.isValid&&p.email.hasBeenFocused&&"Please provide a valid email address!",value:p.email.value,onChange:function(e){return m({type:"ON_CHANGE",val:e.target.value,inputId:"email",isLogin:a,validators:[(0,F.Ox)()]})}}),(0,x.jsxs)(C.Z,{sx:{m:1,width:"80%",marginLeft:"10%"},variant:"outlined",children:[(0,x.jsx)(E.Z,{htmlFor:"outlined-adornment-password",children:"Password"}),(0,x.jsx)(P.Z,{id:"password",type:c?"text":"password",value:p.password.value,onChange:function(e){return m({type:"ON_CHANGE",val:e.target.value,inputId:"password",isLogin:a,validators:[(0,F.CP)(6)]})},endAdornment:(0,x.jsx)(w,{position:"end",children:(0,x.jsx)(I.Z,{onClick:function(){return u((function(e){return!e}))},edge:"end",children:c?(0,x.jsx)(M,{}):(0,x.jsx)(R,{})})}),label:"Password"})]}),(0,x.jsxs)(j.Z,{direction:"column",sx:{m:1,justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,x.jsx)(L.Z,{variant:"contained",disabled:a?!p.meta.loginIsValid:!p.meta.signUpIsValid,sx:{marginLeft:"30%",marginRight:"30%",marginBottom:2},onClick:function(){return function(e,n,r){if(e)Z({url:"http://locomovolt.com:4000/api/users/login",body:JSON.stringify({email:n.email.value,password:n.password.value})}).then((function(e){return r.login(e.userId,e.token)}));else{var t=new FormData;t.append("name",n.name.value),t.append("email",n.email.value),t.append("password",n.password.value),t.append("image",n.image.value),Z({url:"http://locomovolt.com:4000/api/users/signup",body:t,headers:{}}).then((function(e){return r.login(e.userId,e.token)}))}}(a,p,G)},children:a?"Login":"SignUp"}),(0,x.jsx)(L.Z,{variant:"outlined",sx:{marginLeft:"30%",marginRight:"30%"},onClick:function(){return o((function(e){return!e}))},children:a?"Switch to SignUp":"Switch to Login"})]})]})]})}},3239:function(e,n,r){r.d(n,{Z:function(){return N}});var t=r(168),i=r(3366),a=r(7462),o=r(2791),s=r(8182),l=r(767),c=r(2554),u=r(4036),d=r(3736),v=r(7630),f=r(5159);function p(e){return(0,f.Z)("MuiCircularProgress",e)}(0,r(208).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m,h,g,Z,x,y,b,w,k=r(184),S=["className","color","disableShrink","size","style","thickness","value","variant"],j=44,C=(0,c.F4)(x||(x=m||(m=(0,t.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),E=(0,c.F4)(y||(y=h||(h=(0,t.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=(0,v.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n[r.variant],n["color".concat((0,u.Z)(r.color))]]}})((function(e){var n=e.ownerState,r=e.theme;return(0,a.Z)({display:"inline-block"},"determinate"===n.variant&&{transition:r.transitions.create("transform")},"inherit"!==n.color&&{color:r.palette[n.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,c.iv)(b||(b=g||(g=(0,t.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),C)})),I=(0,v.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,n){return n.svg}})({display:"block"}),L=(0,v.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,n){var r=e.ownerState;return[n.circle,n["circle".concat((0,u.Z)(r.variant))],r.disableShrink&&n.circleDisableShrink]}})((function(e){var n=e.ownerState,r=e.theme;return(0,a.Z)({stroke:"currentColor"},"determinate"===n.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var n=e.ownerState;return"indeterminate"===n.variant&&!n.disableShrink&&(0,c.iv)(w||(w=Z||(Z=(0,t.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),E)})),N=o.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiCircularProgress"}),t=r.className,o=r.color,c=void 0===o?"primary":o,v=r.disableShrink,f=void 0!==v&&v,m=r.size,h=void 0===m?40:m,g=r.style,Z=r.thickness,x=void 0===Z?3.6:Z,y=r.value,b=void 0===y?0:y,w=r.variant,C=void 0===w?"indeterminate":w,E=(0,i.Z)(r,S),N=(0,a.Z)({},r,{color:c,disableShrink:f,size:h,thickness:x,value:b,variant:C}),M=function(e){var n=e.classes,r=e.variant,t=e.color,i=e.disableShrink,a={root:["root",r,"color".concat((0,u.Z)(t))],svg:["svg"],circle:["circle","circle".concat((0,u.Z)(r)),i&&"circleDisableShrink"]};return(0,l.Z)(a,p,n)}(N),R={},V={},A={};if("determinate"===C){var F=2*Math.PI*((j-x)/2);R.strokeDasharray=F.toFixed(3),A["aria-valuenow"]=Math.round(b),R.strokeDashoffset="".concat(((100-b)/100*F).toFixed(3),"px"),V.transform="rotate(-90deg)"}return(0,k.jsx)(P,(0,a.Z)({className:(0,s.Z)(M.root,t),style:(0,a.Z)({width:h,height:h},V,g),ownerState:N,ref:n,role:"progressbar"},A,E,{children:(0,k.jsx)(I,{className:M.svg,ownerState:N,viewBox:"".concat(22," ").concat(22," ").concat(j," ").concat(j),children:(0,k.jsx)(L,{className:M.circle,style:R,ownerState:N,cx:j,cy:j,r:(j-x)/2,fill:"none",strokeWidth:x})})}))}))},3767:function(e,n,r){var t=r(4942),i=r(3366),a=r(7462),o=r(2791),s=r(1184),l=r(5682),c=r(8519),u=r(2466),d=r(7630),v=r(3736),f=r(184),p=["component","direction","spacing","divider","children"];function m(e,n){var r=o.Children.toArray(e).filter(Boolean);return r.reduce((function(e,t,i){return e.push(t),i<r.length-1&&e.push(o.cloneElement(n,{key:"separator-".concat(i)})),e}),[])}var h=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,r=e.theme,i=(0,a.Z)({display:"flex"},(0,s.k9)({theme:r},(0,s.P$)({values:n.direction,breakpoints:r.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var o=(0,l.hB)(r),c=Object.keys(r.breakpoints.values).reduce((function(e,r){return null==n.spacing[r]&&null==n.direction[r]||(e[r]=!0),e}),{}),d=(0,s.P$)({values:n.direction,base:c}),v=(0,s.P$)({values:n.spacing,base:c});i=(0,u.Z)(i,(0,s.k9)({theme:r},v,(function(e,r){return{"& > :not(style) + :not(style)":(0,t.Z)({margin:0},"margin".concat((i=r?d[r]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),(0,l.NA)(o,e))};var i})))}return i})),g=o.forwardRef((function(e,n){var r=(0,v.Z)({props:e,name:"MuiStack"}),t=(0,c.Z)(r),o=t.component,s=void 0===o?"div":o,l=t.direction,u=void 0===l?"column":l,d=t.spacing,g=void 0===d?0:d,Z=t.divider,x=t.children,y=(0,i.Z)(t,p),b={direction:u,spacing:g};return(0,f.jsx)(h,(0,a.Z)({as:s,ownerState:b,ref:n},y,{children:Z?m(x,Z):x}))}));n.Z=g}}]);
//# sourceMappingURL=244.61df27c1.chunk.js.map